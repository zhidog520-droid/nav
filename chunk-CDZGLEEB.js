import{a as Zt}from"./chunk-QW3TETEL.js";import{a as zt}from"./chunk-ET54FDGD.js";import{r as We,s as Ye,v as Ve}from"./chunk-NSDMZSY7.js";import{a as Qe}from"./chunk-6PUX7HZQ.js";import{I as He,K as Le,Na as je,P as Re,Qa as Be,R as ft,Va as Je,Wa as Ue,d as Tt}from"./chunk-HDXIBYZK.js";import{$b as U,Ae as $,Bc as v,Cb as z,Cc as D,Ce as M,Da as _e,Dc as W,Dd as Pt,Ec as re,Ed as st,Fb as se,Gb as Me,Id as ht,Jd as Ae,Md as G,Na as J,Qa as ie,Rb as De,Rc as Vt,S as ue,Sc as Mt,Tb as Pe,Vb as ze,W as ge,Wb as Ie,Wc as jt,Xb as be,Xc as Bt,Yb as C,Zb as _,Zc as Dt,Zd as vt,_b as y,a as Rt,ac as E,bc as O,cc as wt,d as cn,dc as ke,ec as Te,f as fe,g as ee,gc as at,hb as Ft,hc as Ee,ib as xe,jc as lt,lb as d,lc as Oe,mc as S,md as Ne,nc as Wt,oa as ye,oc as Yt,pb as oe,pc as $e,pd as Qt,qa as ve,qb as xt,qc as et,qd as ae,r as ne,rc as Z,re as Jt,sa as R,sc as q,se as Ut,ue as Fe,wb as w,wc as St,x as mt,xa as K,xb as we,xc as I,y as L,ya as tt,yb as Se,yc as F,za as Ce}from"./chunk-AM7CMNYC.js";var de=cn((le,ce)=>{"use strict";(function(i,n){typeof le=="object"&&typeof ce<"u"?ce.exports=n():typeof define=="function"&&define.amd?define(n):(i=typeof globalThis<"u"?globalThis:i||self).dayjs=n()})(le,function(){"use strict";var i=1e3,n=6e4,t=36e5,e="millisecond",s="second",g="minute",b="hour",H="day",it="week",N="month",ct="quarter",Y="year",B="date",It="Invalid Date",$t=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Nt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,At={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(m){var c=["th","st","nd","rd"],r=m%100;return"["+m+(c[(r-20)%10]||c[r]||c[0])+"]"}},Ct=function(m,c,r){var p=String(m);return!p||p.length>=c?m:""+Array(c+1-p.length).join(r)+m},Ht={s:Ct,z:function(m){var c=-m.utcOffset(),r=Math.abs(c),p=Math.floor(r/60),a=r%60;return(c<=0?"+":"-")+Ct(p,2,"0")+":"+Ct(a,2,"0")},m:function m(c,r){if(c.date()<r.date())return-m(r,c);var p=12*(r.year()-c.year())+(r.month()-c.month()),a=c.clone().add(p,N),h=r-a<0,f=c.clone().add(p+(h?-1:1),N);return+(-(p+(r-a)/(h?a-f:f-a))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:N,y:Y,w:it,d:H,D:B,h:b,m:g,s,ms:e,Q:ct}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return m===void 0}},dt="en",ot={};ot[dt]=At;var j="$isDayjsObject",te=function(m){return m instanceof k||!(!m||!m[j])},u=function m(c,r,p){var a;if(!c)return dt;if(typeof c=="string"){var h=c.toLowerCase();ot[h]&&(a=h),r&&(ot[h]=r,a=h);var f=c.split("-");if(!a&&f.length>1)return m(f[0])}else{var x=c.name;ot[x]=c,a=x}return!p&&a&&(dt=a),a||!p&&dt},o=function(m,c){if(te(m))return m.clone();var r=typeof c=="object"?c:{};return r.date=m,r.args=arguments,new k(r)},l=Ht;l.l=u,l.i=te,l.w=function(m,c){return o(m,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var k=(function(){function m(r){this.$L=u(r.locale,null,!0),this.parse(r),this.$x=this.$x||r.x||{},this[j]=!0}var c=m.prototype;return c.parse=function(r){this.$d=(function(p){var a=p.date,h=p.utc;if(a===null)return new Date(NaN);if(l.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var f=a.match($t);if(f){var x=f[2]-1||0,P=(f[7]||"0").substring(0,3);return h?new Date(Date.UTC(f[1],x,f[3]||1,f[4]||0,f[5]||0,f[6]||0,P)):new Date(f[1],x,f[3]||1,f[4]||0,f[5]||0,f[6]||0,P)}}return new Date(a)})(r),this.init()},c.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},c.$utils=function(){return l},c.isValid=function(){return this.$d.toString()!==It},c.isSame=function(r,p){var a=o(r);return this.startOf(p)<=a&&a<=this.endOf(p)},c.isAfter=function(r,p){return o(r)<this.startOf(p)},c.isBefore=function(r,p){return this.endOf(p)<o(r)},c.$g=function(r,p,a){return l.u(r)?this[p]:this.set(a,r)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(r,p){var a=this,h=!!l.u(p)||p,f=l.p(r),x=function(yt,V){var pt=l.w(a.$u?Date.UTC(a.$y,V,yt):new Date(a.$y,V,yt),a);return h?pt:pt.endOf(H)},P=function(yt,V){return l.w(a.toDate()[yt].apply(a.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(V)),a)},T=this.$W,A=this.$M,Q=this.$D,_t="set"+(this.$u?"UTC":"");switch(f){case Y:return h?x(1,0):x(31,11);case N:return h?x(1,A):x(0,A+1);case it:var gt=this.$locale().weekStart||0,bt=(T<gt?T+7:T)-gt;return x(h?Q-bt:Q+(6-bt),A);case H:case B:return P(_t+"Hours",0);case b:return P(_t+"Minutes",1);case g:return P(_t+"Seconds",2);case s:return P(_t+"Milliseconds",3);default:return this.clone()}},c.endOf=function(r){return this.startOf(r,!1)},c.$set=function(r,p){var a,h=l.p(r),f="set"+(this.$u?"UTC":""),x=(a={},a[H]=f+"Date",a[B]=f+"Date",a[N]=f+"Month",a[Y]=f+"FullYear",a[b]=f+"Hours",a[g]=f+"Minutes",a[s]=f+"Seconds",a[e]=f+"Milliseconds",a)[h],P=h===H?this.$D+(p-this.$W):p;if(h===N||h===Y){var T=this.clone().set(B,1);T.$d[x](P),T.init(),this.$d=T.set(B,Math.min(this.$D,T.daysInMonth())).$d}else x&&this.$d[x](P);return this.init(),this},c.set=function(r,p){return this.clone().$set(r,p)},c.get=function(r){return this[l.p(r)]()},c.add=function(r,p){var a,h=this;r=Number(r);var f=l.p(p),x=function(A){var Q=o(h);return l.w(Q.date(Q.date()+Math.round(A*r)),h)};if(f===N)return this.set(N,this.$M+r);if(f===Y)return this.set(Y,this.$y+r);if(f===H)return x(1);if(f===it)return x(7);var P=(a={},a[g]=n,a[b]=t,a[s]=i,a)[f]||1,T=this.$d.getTime()+r*P;return l.w(T,this)},c.subtract=function(r,p){return this.add(-1*r,p)},c.format=function(r){var p=this,a=this.$locale();if(!this.isValid())return a.invalidDate||It;var h=r||"YYYY-MM-DDTHH:mm:ssZ",f=l.z(this),x=this.$H,P=this.$m,T=this.$M,A=a.weekdays,Q=a.months,_t=a.meridiem,gt=function(V,pt,kt,Lt){return V&&(V[pt]||V(p,h))||kt[pt].slice(0,Lt)},bt=function(V){return l.s(x%12||12,V,"0")},yt=_t||function(V,pt,kt){var Lt=V<12?"AM":"PM";return kt?Lt.toLowerCase():Lt};return h.replace(Nt,function(V,pt){return pt||(function(kt){switch(kt){case"YY":return String(p.$y).slice(-2);case"YYYY":return l.s(p.$y,4,"0");case"M":return T+1;case"MM":return l.s(T+1,2,"0");case"MMM":return gt(a.monthsShort,T,Q,3);case"MMMM":return gt(Q,T);case"D":return p.$D;case"DD":return l.s(p.$D,2,"0");case"d":return String(p.$W);case"dd":return gt(a.weekdaysMin,p.$W,A,2);case"ddd":return gt(a.weekdaysShort,p.$W,A,3);case"dddd":return A[p.$W];case"H":return String(x);case"HH":return l.s(x,2,"0");case"h":return bt(1);case"hh":return bt(2);case"a":return yt(x,P,!0);case"A":return yt(x,P,!1);case"m":return String(P);case"mm":return l.s(P,2,"0");case"s":return String(p.$s);case"ss":return l.s(p.$s,2,"0");case"SSS":return l.s(p.$ms,3,"0");case"Z":return f}return null})(V)||f.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(r,p,a){var h,f=this,x=l.p(p),P=o(r),T=(P.utcOffset()-this.utcOffset())*n,A=this-P,Q=function(){return l.m(f,P)};switch(x){case Y:h=Q()/12;break;case N:h=Q();break;case ct:h=Q()/3;break;case it:h=(A-T)/6048e5;break;case H:h=(A-T)/864e5;break;case b:h=A/t;break;case g:h=A/n;break;case s:h=A/i;break;default:h=A}return a?h:l.a(h)},c.daysInMonth=function(){return this.endOf(N).$D},c.$locale=function(){return ot[this.$L]},c.locale=function(r,p){if(!r)return this.$L;var a=this.clone(),h=u(r,p,!0);return h&&(a.$L=h),a},c.clone=function(){return l.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},m})(),ut=k.prototype;return o.prototype=ut,[["$ms",e],["$s",s],["$m",g],["$H",b],["$W",H],["$M",N],["$y",Y],["$D",B]].forEach(function(m){ut[m[1]]=function(c){return this.$g(c,m[0],m[1])}}),o.extend=function(m,c){return m.$i||(m(c,k,o),m.$i=!0),o},o.locale=u,o.isDayjs=te,o.unix=function(m){return o(1e3*m)},o.en=ot[dt],o.Ls=ot,o.p={},o})});var Ze=class i{data;component=$();date="";day="";week="";dayOfYear="";constructor(){let n=Ye();this.date=M("_calendarDate",{year:n.year,month:n.month}),this.day=n.zeroDate,this.week=n.dayText,this.dayOfYear=M("_dayOfYear",{day:We()})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=w({type:i,selectors:[["app-calendar"]],inputs:{data:"data"},decls:11,vars:10,consts:[[1,"calendar","family","citems"],[1,"ctop"],[1,"box"],[1,"cday"],[1,"cdate"],[1,"mr-1.5"]],template:function(t,e){t&1&&(E(0,"div",0)(1,"div",1),v(2),O(),E(3,"div",2)(4,"div",3),v(5),O(),E(6,"div",4)(7,"span",5),v(8),O(),E(9,"span"),v(10),O()()()()),t&2&&(I("zoom",e.component.zoom),d(),I("background",e.data.topColor),d(),W(" ",e.date," "),d(),I("background",e.data.bgColor),d(2),D(e.day),d(3),D(e.dayOfYear),d(2),D(e.week))},styles:[".calendar[_ngcontent-%COMP%]{width:130px;height:var(--componentHeight);max-height:100%;border-radius:12px;text-align:center;overflow:hidden;color:#fff;box-shadow:0 0 8px #0006;display:flex;flex-direction:column}.calendar[_ngcontent-%COMP%]   .ctop[_ngcontent-%COMP%]{font-size:17px;height:40px;line-height:0;display:flex;align-items:center;justify-content:center;font-weight:500}.calendar[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{flex:1}.calendar[_ngcontent-%COMP%]   .cday[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:1;padding:24px 0 5px}.calendar[_ngcontent-%COMP%]   .cdate[_ngcontent-%COMP%]{color:#ffffffb3;font-size:13px}"]})};var qe=class i{data;component=$();runDays=0;unit="";constructor(){let n=Date.now()-Fe().runtime;n=n<0?0:n;let t=Math.floor(n/(1e3*60*60*24*365));t>0?(this.runDays=t,this.unit=M("_year")):(this.runDays=Math.floor(n/(1e3*60*60*24)),this.unit=M("_day"))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=w({type:i,selectors:[["app-runtime"]],inputs:{data:"data"},decls:9,vars:5,consts:[[1,"runtime","family","citems"],[1,"title"],[1,"days"],[1,"day"],[1,"unit"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/runtime.svg",1,"img"]],template:function(t,e){t&1&&(E(0,"div",0)(1,"div",1),v(2),O(),E(3,"div",2)(4,"span",3),v(5),O(),E(6,"span",4),v(7),O()(),wt(8,"img",5),O()),t&2&&(I("zoom",e.component.zoom),d(2),D(e.data.title),d(3),D(e.runDays),d(2),D(e.unit))},styles:[".runtime[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:230px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;justify-content:center;padding:30px;flex-direction:column;background:linear-gradient(135deg,#8bc6ec,#9599e2);font-weight:700}.runtime[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:18px;color:#f9f6f6}.runtime[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{z-index:2;position:relative;margin-top:10px;font-size:48px;line-height:1;color:#d67272}.runtime[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{vertical-align:text-bottom}.runtime[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:15px;margin-left:2px;margin-bottom:2px;font-weight:500}.runtime[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:70px}"]})};function dn(i,n){if(i&1&&(_(0,"div",5),v(1),y()),i&2){let t=S();d(),D(t.countdownStr)}}function pn(i,n){i&1&&U(0,"img",6)}function mn(i,n){i&1&&U(0,"img",6)}var Ge=class i{data;component=$();timer;countdownStr="";isRest=!1;constructor(){document.addEventListener("visibilitychange",this.visibilitychange.bind(this))}ngOnChanges(){clearTimeout(this.timer),this.init()}ngOnDestroy(){clearTimeout(this.timer),document.removeEventListener("visibilitychange",this.visibilitychange)}visibilitychange(n){n.target.hidden?clearTimeout(this.timer):this.init()}init(){if(this.data){let n=new Date,t=n.getTime(),e=new Date(this.data.startDate);e.setFullYear(n.getFullYear()),e.setMonth(n.getMonth()),e.setDate(n.getDate());let s=e.getTime(),g=new Date(this.data.date);g.setFullYear(n.getFullYear()),g.setMonth(n.getMonth()),g.setDate(n.getDate());let b=g.getTime(),H=(b-t)/1e3,it=H/3600,N=Math.floor(it%1*10)/10,ct=Math.floor(H/60%60),Y=Math.floor(H%60),B=Math.floor(it)+N;if(t>=s&&t<=b)B>=1?this.countdownStr=M("_hours",{num:B}):ct>0?this.countdownStr=M("_minutes",{num:ct}):Y>=0&&(this.countdownStr=M("_seconds",{num:Y}));else return this.isRest=!0,clearTimeout(this.timer);this.isRest=!1}this.timer=setTimeout(()=>this.init(),1e3)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=w({type:i,selectors:[["app-offwork"]],inputs:{data:"data"},features:[J],decls:7,vars:8,consts:[["other",""],[1,"offwork","family","citems"],[1,"title"],["class","coutdown",4,"ngIf"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg","class","img",4,"ngIf","ngIfElse"],[1,"coutdown"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg",1,"img"]],template:function(t,e){if(t&1&&(_(0,"div",1)(1,"div",2),v(2),y(),z(3,dn,2,1,"div",3)(4,pn,1,0,"img",4)(5,mn,1,0,"ng-template",null,0,Dt),y()),t&2){let s=St(6);I("zoom",e.component.zoom),F("rest",e.isRest),d(2),W(" ",e.isRest?e.data.restTitle:e.data.workTitle," "),d(),C("ngIf",!e.isRest),d(),C("ngIf",e.isRest)("ngIfElse",s)}},dependencies:[G,st],styles:[".offwork[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;align-items:center;flex-direction:column;font-weight:700;background-color:#fff}.offwork.rest[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;color:#666}.offwork[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:20px;z-index:2;position:relative;font-size:14px;color:gray;text-align:center}.offwork[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%}.offwork[_ngcontent-%COMP%]   .coutdown[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:24px;color:#666}"]})};var Xe=class i{constructor(n){this.jumpService=n}data;component=$();static \u0275fac=function(t){return new(t||i)(xt(zt))};static \u0275cmp=w({type:i,selectors:[["app-image"]],inputs:{data:"data"},decls:3,vars:7,consts:[[1,"cimage","family","citems",3,"click"],[1,"text"]],template:function(t,e){t&1&&(E(0,"div",0),Oe("click",function(g){return e.jumpService.goUrl(g,e.data.go)}),E(1,"div",1),v(2),O()()),t&2&&(I("background-image",e.data.url&&"url("+e.data.url+")")("zoom",e.component.zoom),F("cursor-pointer",e.data.go),d(2),D(e.data.text))},styles:[".cimage[_ngcontent-%COMP%]{position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;background-size:cover}.cimage[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-size:12px;text-align:center;font-weight:500}"]})};var Ot=fe(de(),1);var tn=class i{data;component=$();countdownData={};constructor(){}ngOnInit(){this.init()}ngOnChanges(){this.init()}init(){let n={};this.data.date&&(n.dateStr=(0,Ot.default)(this.data.date).format("YYYY.MM.DD"),n.dayStr=(0,Ot.default)((0,Ot.default)(this.data.date).format("YYYY-MM-DD")).diff((0,Ot.default)().format("YYYY-MM-DD"),"day"),n.dayStr=n.dayStr<0?0:n.dayStr,n.dayStr=n.dayStr>9999?9999:n.dayStr),this.countdownData=n}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=w({type:i,selectors:[["app-countdown"]],inputs:{data:"data"},features:[J],decls:8,vars:15,consts:[[1,"holiday","family","citems"],[1,"top"],[1,"box"],[1,"days"],[1,"date"]],template:function(t,e){t&1&&(E(0,"div",0)(1,"div",1),v(2),O(),E(3,"div",2)(4,"div",3),v(5),O(),E(6,"div",4),v(7),O()()()),t&2&&(I("zoom",e.component.zoom),d(),I("background",e.data.topColor),d(),W(" ",e.data.title," "),d(),I("background-image",e.data.url&&"url("+e.data.url+")")("background-color",e.data.bgColor),d(),I("color",e.data.dayColor),d(),W(" ",e.countdownData.dayStr," "),d(),I("color",e.data.dateColor),d(),W(" - ",e.countdownData.dateStr," - "))},styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:160px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;flex-direction:column;text-align:center}.holiday[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:6px 10px;font-weight:500}.holiday[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{position:relative;flex:1;background-size:cover}.holiday[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-weight:700;font-size:50px;margin-top:16px}.holiday[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-weight:500}"]})};var hn=["root"],en=class i{data;root;parseDescriptionTimer;component=$();html="";constructor(){}ngOnChanges(){this.init(),this.parseDescription()}ngOnDestroy(){clearTimeout(this.parseDescriptionTimer)}init(){this.html=Ut(`!${this.data.html}`)}parseDescription(){clearTimeout(this.parseDescriptionTimer),this.parseDescriptionTimer=setTimeout(()=>{Jt(this.root?.nativeElement,`!${this.html}`)},300)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=w({type:i,selectors:[["app-html"]],viewQuery:function(t,e){if(t&1&&et(hn,5),t&2){let s;Z(s=q())&&(e.root=s.first)}},inputs:{data:"data"},features:[J],decls:3,vars:9,consts:[["root",""],[1,"html","family","citems",3,"innerHTML"]],template:function(t,e){t&1&&(wt(0,"div",1,0),jt(2,"safeHtml")),t&2&&(I("zoom",e.component.zoom)("width",e.data.width+"px")("background",e.data.bgColor),Ee("innerHTML",Bt(2,7,e.html),Ft))},dependencies:[Zt],styles:[".html[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;overflow-wrap:break-word}"]})};var rt=fe(de(),1);function fn(i,n){if(i&1&&(_(0,"span",10),v(1),y()),i&2){let t=S(2);d(),D(t.$t("_rest"))}}function un(i,n){if(i&1&&(ke(0),v(1),Te()),i&2){let t=S(2);d(),W("- ",t.items[0].afterDay)}}function gn(i,n){if(i&1&&(_(0,"span",10),v(1),y()),i&2){let t=S(3);d(),D(t.$t("_rest"))}}function yn(i,n){if(i&1&&(_(0,"div",14),v(1),y()),i&2){let t=S().$implicit,e=S(2);d(),re(" ",t.diffDay,"",e.$t("_day")," ")}}function vn(i,n){if(i&1&&(_(0,"div",11)(1,"div",12),v(2),z(3,gn,2,1,"span",6),y(),z(4,yn,2,2,"div",13),y()),i&2){let t=n.$implicit;d(2),re(" ",t.title," ",t.dateStr),d(),C("ngIf",t.day>0),d(),C("ngIf",t.diffDay>0)}}function Cn(i,n){if(i&1&&(_(0,"div",1)(1,"div",2)(2,"div",3),v(3),y(),_(4,"div",4),v(5),y(),_(6,"div",5),z(7,fn,2,1,"span",6),_(8,"span"),v(9),z(10,un,2,1,"ng-container",7),y()()(),_(11,"div",8),z(12,vn,5,4,"div",9),y()()),i&2){let t=S();I("zoom",t.component.zoom),d(),F("today",t.items[0].isToday||t.items[0].isRest),d(2),W(" ",t.items[0].isToday||t.items[0].isRest?t.$t("_dayIs"):t.$t("_distance")+t.items[0].title," "),d(2),D(t.items[0].diffStr),d(2),C("ngIf",t.items[0].day>0),d(2),W("",t.items[0].dateStr," "),d(),C("ngIf",t.items[0].afterDay),d(2),C("ngForOf",t.items)}}var nn=class i{data;items=[];component=$();$t=M;constructor(){}ngOnChanges(){this.init()}init(){let n=[],t=(0,rt.default)((0,rt.default)().format("YYYY-MM-DD"));this.data.items&&(n=[...this.data.items].filter(e=>{e.date=(0,rt.default)(e.date).format("YYYY-MM-DD");let s=(0,rt.default)(e.date);return e.day>0&&(s=s.add(e.day-1,"day")),!s.isBefore(t)}).slice(0,4).map(e=>(e.dateStr=(0,rt.default)(e.date).format("MM.DD"),e.diffDay=(0,rt.default)((0,rt.default)(e.date).format("YYYY-MM-DD")).diff(t,"day"),e.diffDay=e.diffDay<0?0:e.diffDay,e.diffDay=e.diffDay>999?999:e.diffDay,e.diffStr=e.diffDay,e.day>0&&(e.afterDay=(0,rt.default)(e.date).add(e.day-1,"day").format("MM.DD"),e.afterDay===e.dateStr&&(e.afterDay=null)),e.isToday=e.dateStr===(0,rt.default)().format("MM.DD"),e.diffDay<=0&&(e.isToday?e.diffStr=e.title:(e.isRest=!0,e.diffStr="\u4F11\u606F\u65E5")),e))),this.items=n}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=w({type:i,selectors:[["app-holiday"]],inputs:{data:"data"},features:[J],decls:1,vars:1,consts:[["class","holiday family citems",3,"zoom",4,"ngIf"],[1,"holiday","family","citems"],[1,"left"],[1,"title"],[1,"days"],[1,"flex","items-center","justify-center","whitespace-nowrap"],["class","tag",4,"ngIf"],[4,"ngIf"],[1,"right"],["class","items",4,"ngFor","ngForOf"],[1,"tag"],[1,"items"],[1,"cleft"],["class","cright",4,"ngIf"],[1,"cright"]],template:function(t,e){t&1&&z(0,Cn,13,10,"div",0),t&2&&C("ngIf",e.items.length)},dependencies:[G,Pt,st],styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:320px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;background-color:#fff;color:#666}.holiday[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:140px;padding:12px 0 12px 12px;display:flex;flex-direction:column}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:46px;text-align:center;font-weight:700;color:#000000d9;flex:1;display:flex;align-items:center;justify-content:center}.holiday[_ngcontent-%COMP%]   .left.today[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:30px}.holiday[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background-color:#dffcea;color:#55aa6f;font-size:10px;font-weight:500;padding:1px 2px;border-radius:2px;display:inline-flex;align-items:center;justify-content:center;margin-right:3px;margin-left:2px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;padding:12px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:4px 0;color:#000c}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:not(:nth-last-child(1)){margin-bottom:3px;border-bottom:1px solid #eee}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]{position:relative;white-space:nowrap;display:flex;align-items:center}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;top:50%;left:-5px;transform:translate(-100%,-50%)}.holiday[_ngcontent-%COMP%]   .cright[_ngcontent-%COMP%]{font-weight:500}"]})};var on={1:M("_weibo"),2:"V2EX",3:M("_douyin"),4:M("_bilibili"),5:M("_juejin"),6:M("_baidu"),7:"GitHub",8:M("_52"),9:M("_hongshu"),10:M("_toutiao"),11:M("_douban"),12:"Hacker News",13:M("_zhihu"),14:M("_zhihuDaily")};var qt=class i{constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=w({type:i,selectors:[["app-loading"]],decls:2,vars:0,consts:[["viewBox","25 25 50 50",1,"cc1"],["cx","50","cy","50","r","20","fill","none",1,"cc2"]],template:function(t,e){t&1&&(Ce(),E(0,"svg",0),wt(1,"circle",1),O())},styles:[".cc1[_ngcontent-%COMP%]{z-index:2;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:15px;height:15px;animation:my-rotatex1 2s linear infinite}.cc2[_ngcontent-%COMP%]{stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:5;stroke:#6d8ba7;stroke-linecap:round;animation:loading-dashx2 1.5s ease-in-out infinite}"],changeDetection:0})};var _n=["parent"],xn=["content"],wn=["item"],Sn=(i,n)=>({zoom:i,background:n});function Mn(i,n){if(i&1){let t=at();_(0,"div",10,2),lt("mouseenter",function(){let s=K(t).index,g=S();return tt(g.onMouseEnter(s))}),v(2),y()}if(i&2){let t=n.$implicit,e=n.index,s=S();F("active",e===s.activeIndex),d(2),W(" ",s.newsTypeMap[t]," ")}}function Dn(i,n){i&1&&U(0,"app-loading")}function Pn(i,n){if(i&1&&(_(0,"div",11),v(1),y()),i&2){let t=S();d(),W(" ",t.$t("_noNews")," ")}}function zn(i,n){if(i&1&&(_(0,"span",16),v(1),y()),i&2){let t=S().$implicit;d(),D(t.hot)}}function In(i,n){if(i&1){let t=at();_(0,"div",12),lt("click",function(s){let g=K(t).$implicit,b=S();return tt(b.jumpService.goUrl(s,g.url))}),_(1,"span",13),v(2),y(),_(3,"span",14),v(4),y(),z(5,zn,2,1,"span",15),y()}if(i&2){let t=n.$implicit,e=n.index;d(2),D(e+1),d(2),D(t.text),d(),C("ngIf",t.hot)}}var sn=class i{constructor(n){this.jumpService=n;let t=localStorage.getItem(vt.NEWS);if(t)try{this.newsListMap=JSON.parse(t)}catch{}}parentElement;contentRef;items;data;$t=M;newsTypeMap=on;component=$();activeIndex=0;newsListMap={};loading=!1;get newsList(){let n=this.data.types;return this.newsListMap[n[this.activeIndex]]||[]}ngOnChanges(){this.getNews()}onMouseEnter(n){this.activeIndex=n,this.contentRef.nativeElement.scrollTop=0}scrollIntoViewTabs(){Ve(this.parentElement.nativeElement,this.items.toArray()[this.activeIndex].nativeElement,{behavior:"smooth"})}getNews(){let n=this.data.types;if(!n||n.length<=0){localStorage.removeItem(vt.NEWS),localStorage.removeItem(vt.NEWS_DATE);return}let t=Date.now(),e=Number(localStorage.getItem(vt.NEWS_DATE));e&&t-e<36e5||(this.newsList.length<=0&&(this.loading=!0),je(Rt({},this.data)).then(s=>{this.newsListMap=Rt(Rt({},this.newsListMap),s.data),localStorage.setItem(vt.NEWS,JSON.stringify(this.newsListMap)),localStorage.setItem(vt.NEWS_DATE,JSON.stringify(Date.now()))}).finally(()=>{this.loading=!1}))}trackByItem(n,t){return t.text}static \u0275fac=function(t){return new(t||i)(xt(zt))};static \u0275cmp=w({type:i,selectors:[["app-news"]],viewQuery:function(t,e){if(t&1&&(et(_n,5),et(xn,5),et(wn,5)),t&2){let s;Z(s=q())&&(e.parentElement=s.first),Z(s=q())&&(e.contentRef=s.first),Z(s=q())&&(e.items=s)}},inputs:{data:"data"},features:[J],decls:9,vars:9,consts:[["parent",""],["content",""],["item",""],[1,"news","citems","family",3,"ngStyle"],[1,"tabs","hidden-scrollbar",3,"mouseleave","click"],["class","tab",3,"active","mouseenter",4,"ngFor","ngForOf"],[1,"content-box","hidden-scrollbar"],[4,"ngIf"],["class","nodata",4,"ngIf"],["class","content ellipsis",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tab",3,"mouseenter"],[1,"nodata"],[1,"content","ellipsis",3,"click"],[1,"mr-2","n"],[1,"mid","ellipsis"],["class","ml-2.5",4,"ngIf"],[1,"ml-2.5"]],template:function(t,e){if(t&1){let s=at();_(0,"div",3)(1,"div",4,0),lt("mouseleave",function(){return K(s),tt(e.scrollIntoViewTabs())})("click",function(){return K(s),tt(e.scrollIntoViewTabs())}),z(3,Mn,3,3,"div",5),y(),_(4,"div",6,1),z(6,Dn,1,0,"app-loading",7)(7,Pn,2,1,"div",8)(8,In,6,3,"div",9),y()()}t&2&&(C("ngStyle",Mt(6,Sn,e.component.zoom,e.data.bgColor)),d(3),C("ngForOf",e.data.types),d(3),C("ngIf",e.loading),d(),C("ngIf",!e.loading&&e.newsList.length===0),d(),C("ngForOf",e.newsList)("ngForTrackBy",e.trackByItem))},dependencies:[G,Pt,st,ht,qt],styles:[".news[_ngcontent-%COMP%]{position:relative;width:310px;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;background:linear-gradient(100deg,#2a2d38,#535a68);color:#fff;padding:10px 10px 0;font-size:12px;display:flex;flex-direction:column}.news[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;column-gap:4px;white-space:nowrap;overflow:hidden;overflow-x:auto}.news[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border-radius:4px;padding:2px 4px;cursor:pointer;transition:all .2s linear}.news[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:#fff2}.news[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{position:relative;flex:1;overflow:hidden;overflow-y:auto;padding:10px 0;color:#f1f1f1}.news[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#aeaeae}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4px}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:hover{opacity:.9}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(1)   .n[_ngcontent-%COMP%]{color:#fff}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(2)   .n[_ngcontent-%COMP%]{color:#ffffffe6}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(3)   .n[_ngcontent-%COMP%]{color:#fffc}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mid[_ngcontent-%COMP%]{flex:1}.news[_ngcontent-%COMP%]   .n[_ngcontent-%COMP%]{color:#969c9c}"]})};var kn=["slickList"],Tn=["slickTrack"],En=["*"],On=i=>({$implicit:i});function $n(i,n){}function Nn(i,n){if(i&1){let t=at();_(0,"li",9),lt("click",function(){let s=K(t).$index,g=S(2);return tt(g.goTo(s))}),z(1,$n,0,0,"ng-template",10),y()}if(i&2){let t=n.$index,e=S(2),s=St(8);F("slick-active",t===e.activeIndex),d(),C("ngTemplateOutlet",e.nzDotRender||s)("ngTemplateOutletContext",Vt(4,On,t))}}function An(i,n){if(i&1&&(_(0,"ul",7),Ie(1,Nn,2,6,"li",8,ze),y()),i&2){let t=S();F("slick-dots-top",t.nzDotPosition==="top")("slick-dots-bottom",t.nzDotPosition==="bottom")("slick-dots-left",t.nzDotPosition==="left")("slick-dots-right",t.nzDotPosition==="right"),d(),be(t.carouselContents)}}function Hn(i,n){if(i&1&&(_(0,"button"),v(1),y()),i&2){let t=n.$implicit;d(),D(t+1)}}var he=(()=>{class i{renderer=R(oe);el=R(ie).nativeElement;set isActive(t){this._active=t,this.isActive?this.renderer.addClass(this.el,"slick-active"):this.renderer.removeClass(this.el,"slick-active")}get isActive(){return this._active}_active=!1;static \u0275fac=function(e){return new(e||i)};static \u0275dir=Se({type:i,selectors:[["","nz-carousel-content",""]],hostAttrs:[1,"slick-slide"],exportAs:["nzCarouselContent"]})}return i})(),Gt=class{cdr;renderer;platform;options;carouselComponent;contents;slickListEl;slickTrackEl;length;unitWidth;unitHeight;get maxIndex(){return this.length-1}get firstEl(){return this.contents[0].el}get lastEl(){return this.contents[this.maxIndex].el}constructor(n,t,e,s,g){this.cdr=t,this.renderer=e,this.platform=s,this.options=g,this.carouselComponent=n}withCarouselContents(n){let t=this.carouselComponent;if(this.slickListEl=t.slickListEl,this.slickTrackEl=t.slickTrackEl,this.contents=n?.toArray()||[],this.length=this.contents.length,this.platform.isBrowser){let e=t.el.getBoundingClientRect();this.unitWidth=e.width,this.unitHeight=e.height}else n?.forEach((e,s)=>{s===0?this.renderer.setStyle(e.el,"width","100%"):this.renderer.setStyle(e.el,"display","none")})}dragging(n){}dispose(){}getFromToInBoundary(n,t){let e=this.maxIndex+1;return{from:(n+e)%e,to:(t+e)%e}}},pe=class extends Gt{withCarouselContents(n){super.withCarouselContents(n),this.contents&&(this.slickTrackEl.style.width=`${this.length*this.unitWidth}px`,this.contents.forEach((t,e)=>{this.renderer.setStyle(t.el,"opacity",this.carouselComponent.activeIndex===e?"1":"0"),this.renderer.setStyle(t.el,"position","relative"),this.renderer.setStyle(t.el,"width",`${this.unitWidth}px`),this.renderer.setStyle(t.el,"left",`${-this.unitWidth*e}px`),this.renderer.setStyle(t.el,"transition",["opacity 500ms ease 0s","visibility 500ms ease 0s"])}))}switch(n,t){let{to:e}=this.getFromToInBoundary(n,t),s=new ne;return this.contents.forEach((g,b)=>{this.renderer.setStyle(g.el,"opacity",e===b?"1":"0")}),setTimeout(()=>{s.next(),s.complete()},this.carouselComponent.nzTransitionSpeed),s}dispose(){this.contents.forEach(n=>{this.renderer.setStyle(n.el,"transition",null),this.renderer.setStyle(n.el,"opacity",null),this.renderer.setStyle(n.el,"width",null),this.renderer.setStyle(n.el,"left",null)}),super.dispose()}},me=class extends Gt{isDragging=!1;isTransitioning=!1;get vertical(){return this.carouselComponent.vertical}constructor(n,t,e,s,g){super(n,t,e,s,g)}dispose(){super.dispose(),this.renderer.setStyle(this.slickTrackEl,"transform",null)}withCarouselContents(n){super.withCarouselContents(n);let e=this.carouselComponent.activeIndex;this.platform.isBrowser&&this.contents.length&&(this.renderer.setStyle(this.slickListEl,"height",`${this.unitHeight}px`),this.vertical?(this.renderer.setStyle(this.slickTrackEl,"width",`${this.unitWidth}px`),this.renderer.setStyle(this.slickTrackEl,"height",`${this.length*this.unitHeight}px`),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-e*this.unitHeight}px, 0)`)):(this.renderer.setStyle(this.slickTrackEl,"height",`${this.unitHeight}px`),this.renderer.setStyle(this.slickTrackEl,"width",`${this.length*this.unitWidth}px`),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-e*this.unitWidth}px, 0, 0)`)),this.contents.forEach(s=>{this.renderer.setStyle(s.el,"position","relative"),this.renderer.setStyle(s.el,"width",`${this.unitWidth}px`),this.renderer.setStyle(s.el,"height",`${this.unitHeight}px`)}))}switch(n,t){let{to:e}=this.getFromToInBoundary(n,t),s=new ne;return this.renderer.setStyle(this.slickTrackEl,"transition",`transform ${this.carouselComponent.nzTransitionSpeed}ms ease`),this.vertical?this.verticalTransform(n,t):this.horizontalTransform(n,t),this.isTransitioning=!0,this.isDragging=!1,setTimeout(()=>{this.renderer.setStyle(this.slickTrackEl,"transition",null),this.contents.forEach(g=>{this.renderer.setStyle(g.el,this.vertical?"top":"left",null)}),this.vertical?this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-e*this.unitHeight}px, 0)`):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-e*this.unitWidth}px, 0, 0)`),this.isTransitioning=!1,s.next(),s.complete()},this.carouselComponent.nzTransitionSpeed),s.asObservable()}dragging(n){if(this.isTransitioning)return;let t=this.carouselComponent.activeIndex;this.carouselComponent.vertical?(!this.isDragging&&this.length>2&&(t===this.maxIndex?this.prepareVerticalContext(!0):t===0&&this.prepareVerticalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-t*this.unitHeight+n.x}px, 0)`)):(!this.isDragging&&this.length>2&&(t===this.maxIndex?this.prepareHorizontalContext(!0):t===0&&this.prepareHorizontalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-t*this.unitWidth+n.x}px, 0, 0)`)),this.isDragging=!0}verticalTransform(n,t){let{from:e,to:s}=this.getFromToInBoundary(n,t);this.length>2&&t!==s?(this.prepareVerticalContext(s<e),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-t*this.unitHeight}px, 0)`)):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-s*this.unitHeight}px, 0`)}horizontalTransform(n,t){let{from:e,to:s}=this.getFromToInBoundary(n,t);this.length>2&&t!==s?(this.prepareHorizontalContext(s<e),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-t*this.unitWidth}px, 0, 0)`)):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-s*this.unitWidth}px, 0, 0`)}prepareVerticalContext(n){n?(this.renderer.setStyle(this.firstEl,"top",`${this.length*this.unitHeight}px`),this.renderer.setStyle(this.lastEl,"top",null)):(this.renderer.setStyle(this.firstEl,"top",null),this.renderer.setStyle(this.lastEl,"top",`${-this.unitHeight*this.length}px`))}prepareHorizontalContext(n){n?(this.renderer.setStyle(this.firstEl,"left",`${this.length*this.unitWidth}px`),this.renderer.setStyle(this.lastEl,"left",null)):(this.renderer.setStyle(this.firstEl,"left",null),this.renderer.setStyle(this.lastEl,"left",`${-this.unitWidth*this.length}px`))}},Ln=new ve("nz-carousel-custom-strategies"),Rn="carousel",rn=(()=>{var j;let i,n=[],t=[],e,s=[],g=[],b,H=[],it=[],N,ct=[],Y=[],B,It=[],$t=[],Nt,At=[],Ct=[],Ht,dt=[],ot=[];return j=class{_nzModuleName=Rn;nzConfigService=R(Re);ngZone=R(Me);renderer=R(oe);cdr=R(Ne);platform=R(Le);resizeService=R(Je);nzDragService=R(Ue);nzResizeObserver=R(Qe);destroyRef=R(_e);carouselContents;slickList;slickTrack;nzDotRender;nzEffect=L(this,n,"scrollx");nzEnableSwipe=(L(this,t),L(this,s,!0));nzDots=(L(this,g),L(this,H,!0));nzAutoPlay=(L(this,it),L(this,ct,!1));nzAutoPlaySpeed=(L(this,Y),L(this,It,3e3));nzTransitionSpeed=(L(this,$t),500);nzLoop=L(this,At,!0);nzStrategyOptions=(L(this,Ct),void 0);nzDotPosition=L(this,dt,"bottom");nzBeforeChange=(L(this,ot),new se);nzAfterChange=new se;activeIndex=0;el=R(ie).nativeElement;slickListEl;slickTrackEl;strategy;vertical=!1;transitionInProgress;dir="ltr";gestureRect=null;pointerDelta=null;isTransiting=!1;isDragging=!1;directionality=R(Be);customStrategies=R(Ln,{optional:!0});constructor(){this.nzDotPosition="bottom",this.destroyRef.onDestroy(()=>{this.clearScheduledTransition(),this.strategy?.dispose()})}ngOnInit(){this.slickListEl=this.slickList.nativeElement,this.slickTrackEl=this.slickTrack.nativeElement,this.dir=this.directionality.value,this.directionality.change.pipe(Tt(this.destroyRef)).subscribe(u=>{this.dir=u,this.markContentActive(this.activeIndex),this.cdr.detectChanges()}),He(this.slickListEl,"keydown").pipe(Tt(this.destroyRef)).subscribe(u=>{let{keyCode:o}=u;o!==37&&o!==39||(u.preventDefault(),this.ngZone.run(()=>{o===37?this.pre():this.next(),this.cdr.markForCheck()}))}),this.nzResizeObserver.observe(this.el).pipe(ue(100),ge(),Tt(this.destroyRef)).subscribe(()=>this.layout())}ngAfterContentInit(){this.markContentActive(0)}ngAfterViewInit(){this.carouselContents.changes.subscribe(()=>{this.markContentActive(0),this.layout()}),this.resizeService.connect().pipe(Tt(this.destroyRef)).subscribe(()=>this.layout()),this.switchStrategy(),this.markContentActive(0),this.layout(),Promise.resolve().then(()=>this.layout())}ngOnChanges(u){let{nzEffect:o,nzDotPosition:l}=u;o&&!o.isFirstChange()&&(this.switchStrategy(),this.markContentActive(0),this.layout()),l&&(this.vertical=l.currentValue==="left"||l.currentValue==="right",l.isFirstChange()||(this.switchStrategy(),this.markContentActive(0),this.layout())),!this.nzAutoPlay||!this.nzAutoPlaySpeed?this.clearScheduledTransition():this.scheduleNextTransition()}next(){this.goTo(this.activeIndex+1)}pre(){this.goTo(this.activeIndex-1)}goTo(u){if(this.carouselContents&&this.carouselContents.length&&!this.isTransiting&&(this.nzLoop||u>=0&&u<this.carouselContents.length)){let o=this.carouselContents.length,l=this.activeIndex,k=(u+o)%o;this.isTransiting=!0,this.nzBeforeChange.emit({from:l,to:k}),this.strategy.switch(this.activeIndex,u).subscribe(()=>{this.scheduleNextTransition(),this.nzAfterChange.emit(k),this.isTransiting=!1}),this.markContentActive(k),this.cdr.markForCheck()}}switchStrategy(){this.strategy&&this.strategy.dispose();let u=this.customStrategies?this.customStrategies.find(o=>o.name===this.nzEffect):null;if(u){this.strategy=new u.strategy(this,this.cdr,this.renderer,this.platform);return}this.strategy=this.nzEffect==="scrollx"?new me(this,this.cdr,this.renderer,this.platform):new pe(this,this.cdr,this.renderer,this.platform)}scheduleNextTransition(){this.clearScheduledTransition(),this.nzAutoPlay&&this.nzAutoPlaySpeed>0&&this.platform.isBrowser&&(this.transitionInProgress=setTimeout(()=>{this.goTo(this.activeIndex+1)},this.nzAutoPlaySpeed))}clearScheduledTransition(){this.transitionInProgress&&(clearTimeout(this.transitionInProgress),this.transitionInProgress=void 0)}markContentActive(u){this.activeIndex=u,this.carouselContents?.forEach((o,l)=>o.isActive=u===l),this.cdr.markForCheck()}pointerDown=u=>{!this.isDragging&&!this.isTransiting&&this.nzEnableSwipe&&(this.clearScheduledTransition(),this.gestureRect=this.slickListEl.getBoundingClientRect(),this.nzDragService.requestDraggingSequence(u).subscribe({next:o=>{this.pointerDelta=o,this.isDragging=!0,this.strategy?.dragging(this.pointerDelta)},complete:()=>{if(this.nzEnableSwipe&&this.isDragging){let o=this.pointerDelta?this.pointerDelta.x:0;Math.abs(o)>this.gestureRect.width/3&&(this.nzLoop||o<=0&&this.activeIndex+1<this.carouselContents.length||o>0&&this.activeIndex>0)?this.goTo(o>0?this.activeIndex-1:this.activeIndex+1):this.goTo(this.activeIndex),this.gestureRect=null,this.pointerDelta=null}this.isDragging=!1}}))};layout(){this.strategy?.withCarouselContents(this.carouselContents)}},(()=>{let u=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[ft()],e=[ft()],b=[ft()],N=[ft()],B=[ft()],Nt=[ft()],Ht=[ft()],mt(null,null,i,{kind:"field",name:"nzEffect",static:!1,private:!1,access:{has:o=>"nzEffect"in o,get:o=>o.nzEffect,set:(o,l)=>{o.nzEffect=l}},metadata:u},n,t),mt(null,null,e,{kind:"field",name:"nzEnableSwipe",static:!1,private:!1,access:{has:o=>"nzEnableSwipe"in o,get:o=>o.nzEnableSwipe,set:(o,l)=>{o.nzEnableSwipe=l}},metadata:u},s,g),mt(null,null,b,{kind:"field",name:"nzDots",static:!1,private:!1,access:{has:o=>"nzDots"in o,get:o=>o.nzDots,set:(o,l)=>{o.nzDots=l}},metadata:u},H,it),mt(null,null,N,{kind:"field",name:"nzAutoPlay",static:!1,private:!1,access:{has:o=>"nzAutoPlay"in o,get:o=>o.nzAutoPlay,set:(o,l)=>{o.nzAutoPlay=l}},metadata:u},ct,Y),mt(null,null,B,{kind:"field",name:"nzAutoPlaySpeed",static:!1,private:!1,access:{has:o=>"nzAutoPlaySpeed"in o,get:o=>o.nzAutoPlaySpeed,set:(o,l)=>{o.nzAutoPlaySpeed=l}},metadata:u},It,$t),mt(null,null,Nt,{kind:"field",name:"nzLoop",static:!1,private:!1,access:{has:o=>"nzLoop"in o,get:o=>o.nzLoop,set:(o,l)=>{o.nzLoop=l}},metadata:u},At,Ct),mt(null,null,Ht,{kind:"field",name:"nzDotPosition",static:!1,private:!1,access:{has:o=>"nzDotPosition"in o,get:o=>o.nzDotPosition,set:(o,l)=>{o.nzDotPosition=l}},metadata:u},dt,ot),u&&Object.defineProperty(j,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:u})})(),ee(j,"\u0275fac",function(o){return new(o||j)}),ee(j,"\u0275cmp",w({type:j,selectors:[["nz-carousel"]],contentQueries:function(o,l,k){if(o&1&&$e(k,he,4),o&2){let ut;Z(ut=q())&&(l.carouselContents=ut)}},viewQuery:function(o,l){if(o&1&&(et(kn,7),et(Tn,7)),o&2){let k;Z(k=q())&&(l.slickList=k.first),Z(k=q())&&(l.slickTrack=k.first)}},hostAttrs:[1,"ant-carousel"],hostVars:4,hostBindings:function(o,l){o&2&&F("ant-carousel-vertical",l.vertical)("ant-carousel-rtl",l.dir==="rtl")},inputs:{nzDotRender:"nzDotRender",nzEffect:"nzEffect",nzEnableSwipe:[2,"nzEnableSwipe","nzEnableSwipe",Qt],nzDots:[2,"nzDots","nzDots",Qt],nzAutoPlay:[2,"nzAutoPlay","nzAutoPlay",Qt],nzAutoPlaySpeed:[2,"nzAutoPlaySpeed","nzAutoPlaySpeed",ae],nzTransitionSpeed:[2,"nzTransitionSpeed","nzTransitionSpeed",ae],nzLoop:"nzLoop",nzStrategyOptions:"nzStrategyOptions",nzDotPosition:"nzDotPosition"},outputs:{nzBeforeChange:"nzBeforeChange",nzAfterChange:"nzAfterChange"},exportAs:["nzCarousel"],features:[J],ngContentSelectors:En,decls:9,vars:4,consts:[["slickList",""],["slickTrack",""],["renderDotTemplate",""],[1,"slick-initialized","slick-slider",3,"dir"],["tabindex","-1",1,"slick-list",3,"mousedown","touchstart"],[1,"slick-track"],[1,"slick-dots",3,"slick-dots-top","slick-dots-bottom","slick-dots-left","slick-dots-right"],[1,"slick-dots"],[3,"slick-active"],[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,l){if(o&1){let k=at();Wt(),_(0,"div",3)(1,"div",4,0),lt("mousedown",function(m){return K(k),tt(l.pointerDown(m))})("touchstart",function(m){return K(k),tt(l.pointerDown(m))}),_(3,"div",5,1),Yt(5),y()(),De(6,An,3,8,"ul",6),y(),z(7,Hn,2,1,"ng-template",null,2,Dt)}o&2&&(F("slick-vertical",l.nzDotPosition==="left"||l.nzDotPosition==="right"),C("dir","ltr"),d(6),Pe(l.nzDots?6:-1))},dependencies:[Ae],encapsulation:2,changeDetection:0})),j})(),an=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=we({type:i});static \u0275inj=ye({})}return i})();var Yn=["root"],Vn=(i,n)=>({height:i,"object-fit":n});function jn(i,n){if(i&1&&(U(0,"div",3,1),jt(2,"safeHtml")),i&2){let t=S();C("innerHTML",Bt(2,1,t.html),Ft)}}function Bn(i,n){if(i&1&&U(0,"img",4),i&2){let t=S();C("src",t.data.src,xe)("ngStyle",Mt(2,Vn,t.height<=0?"":t.height+"px",t.fit))}}var Xt=class i{data={};height;fit="cover";root;isCode=!1;html="";constructor(){}ngOnInit(){this.isCode=this.data.url[0]==="!",this.isCode&&(this.html=Ut(this.data.url))}ngAfterViewInit(){this.parseDescription()}parseDescription(){this.isCode&&Jt(this.root?.nativeElement,this.data.url)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=w({type:i,selectors:[["app-swiper-item"]],viewQuery:function(t,e){if(t&1&&et(Yn,5),t&2){let s;Z(s=q())&&(e.root=s.first)}},inputs:{data:"data",height:"height",fit:"fit"},decls:3,vars:2,consts:[["other",""],["root",""],["class","w-full",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"w-full",3,"innerHTML"],["draggable","false",1,"bgimg",3,"src","ngStyle"]],template:function(t,e){if(t&1&&z(0,jn,3,3,"div",2)(1,Bn,1,5,"ng-template",null,0,Dt),t&2){let s=St(2);C("ngIf",e.isCode)("ngIfElse",s)}},dependencies:[G,st,ht,Zt],styles:[".bgimg[_ngcontent-%COMP%]{width:100%}"]})};var Qn=["*"],Jn=i=>({height:i});function Un(i,n){if(i&1){let t=at();_(0,"div",4),lt("click",function(s){let g=K(t).$implicit,b=S(2);return tt(b.jumpService.goUrl(s,g.url))}),U(1,"app-swiper-item",5),y()}if(i&2){let t=n.$implicit,e=S(2);F("cursor-pointer",t.url),d(),C("data",t)("height",e.height)("fit",e.fit)}}function Zn(i,n){if(i&1&&(_(0,"div",1)(1,"nz-carousel",2),z(2,Un,2,5,"div",3),y(),Yt(3),y()),i&2){let t=S();C("ngStyle",Vt(5,Jn,t.height<=0?"":t.height+"px")),d(),C("nzAutoPlay",t.autoPlay)("nzAutoPlaySpeed",5e3)("nzDots",t.images.length>1),d(),C("ngForOf",t.images)}}var Kt=class i{constructor(n){this.jumpService=n}images=[];fit="cover";autoplay=!0;height=300;autoPlay=!1;ngAfterViewInit(){setTimeout(()=>{this.autoplay&&(this.autoPlay=!0,document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)))},0)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange(){document.visibilityState==="hidden"?this.autoPlay=!1:this.autoPlay=!0}static \u0275fac=function(t){return new(t||i)(xt(zt))};static \u0275cmp=w({type:i,selectors:[["app-swiper"]],inputs:{images:"images",fit:"fit",autoplay:"autoplay",height:"height"},ngContentSelectors:Qn,decls:1,vars:1,consts:[["class","swiper",3,"ngStyle",4,"ngIf"],[1,"swiper",3,"ngStyle"],[3,"nzAutoPlay","nzAutoPlaySpeed","nzDots"],["nz-carousel-content","",3,"cursor-pointer","click",4,"ngFor","ngForOf"],["nz-carousel-content","",3,"click"],[3,"data","height","fit"]],template:function(t,e){t&1&&(Wt(),z(0,Zn,4,7,"div",0)),t&2&&C("ngIf",e.images&&e.images.length>0)},dependencies:[an,rn,he,G,Pt,st,ht,Xt],styles:[".swiper[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;overflow:hidden}.swiper[_ngcontent-%COMP%]     .slick-slide, .swiper[_ngcontent-%COMP%]     .slick-track, .swiper[_ngcontent-%COMP%]     .slick-list{height:auto!important}"]})};var qn=(i,n)=>({zoom:i,width:n}),ln=class i{data;component=$();constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=w({type:i,selectors:[["app-carousel"]],inputs:{data:"data"},decls:2,vars:7,consts:[[1,"ccarousel","family","citems",3,"ngStyle"],[3,"images","height","fit"]],template:function(t,e){t&1&&(_(0,"div",0),U(1,"app-swiper",1),y()),t&2&&(C("ngStyle",Mt(4,qn,e.component.zoom,e.data.width+"px")),d(),C("images",e.data.imgs)("height",155)("fit",e.data.fit))},dependencies:[Kt,G,ht],styles:[".ccarousel[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden}.ccarousel[_ngcontent-%COMP%]     .swiper{height:var(--componentHeight)!important}"]})};export{Ze as a,qe as b,Ge as c,Xe as d,de as e,tn as f,en as g,nn as h,on as i,sn as j,Kt as k,ln as l};
